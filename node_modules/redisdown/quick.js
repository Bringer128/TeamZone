'use strict';
var levelup = require('levelup');
var redisdown = require('./index');

// 1) Create our database, supply location and options.
//    This will create or open the underlying LevelDB store.
// var db = levelup('mydb', { db: redisdown, host: 'pub-redis-11846.ap-southeast-1-1.1.ec2.garantiadata.com', port: 11846, auth_pass: 'rddowntest' });
var url = 'redisdown://rediscloud:rddowntest@pub-redis-11846.ap-southeast-1-1.1.ec2.garantiadata.com:11846/mydb';
// var db = levelup('mydb', { db: redisdown, url: url });
var db = levelup(url, { db: redisdown });

//var db = require('redisdown')({url: 'http://rediscloud:password@hostname:port'})
//var db = require('redisdown')('http://rediscloud:password@hostname:port')

// if you already have a redis client
//var db = levelup('mydb', { db: redisdown, redis: redisClient })

// 2) put a key & value
// db.put('name', 'LevelUP', function (err) {
//   if (err) { return console.log('Ooops!', err); }// some kind of I/O error

  // 3) fetch by key
  db.get('name', function (err, value) {
    if (err) { return console.log('Ooops!', err); } // likely the key was not found

    // ta da!
    console.log('name=' + value);
    process.exit();
  });
// });